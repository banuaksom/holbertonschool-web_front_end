<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

    <meta charset="utf-8" />
    <title>Task 6</title>
    
</head>

<body>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
    <script type="application/javascript">
        const createFamilyTree = () => {
          $("body").append("<table><thead><tr><th><th></tr></thead><tbody></tbody></table>");
            $("th").first().text("Firstname").end().last().text("Lastname");          
        }

        const addNewMember = (firstName, lastName, position) => {
          const row = `<tr><td>${firstName}<td>${lastName}<td>(x)`;
          position === "before" ? $("tbody").prepend(row) : $("tbody").append(row);
          $("tbody td:last").css("background-color", "orange");
          $("tbody td:last").click(function () {
              $(this).parent().remove();
          });
        }

        const createForm = () => {
            $('table').before(`
            <input type='text'>
            <input type='text'>
            <select>
            <option value='before'>Before</option>
            <option value='after'>After</option>
            </select>
            <input type='submit'>`);
               
            $('input:last').click(function () {
                addNewMember($('input:nth-of-type(1)').val(), $('input:nth-of-type(2)').val(), $('select').val());
            });
        }


      createFamilyTree();
      createForm();
      
    </script>

</body>

</html>